#!/usr/bin/env python
#-*- coding:utf-8 -*-

import base64
from optparse import OptionParser 

def main():

	parser = OptionParser()
	parser.add_option("-u", "--username", dest="username",help="username file")
	parser.add_option("-p", "--password", dest="password",help="password file") 
	parser.add_option("-s", "--savefile", dest="savefile",help="save file")

	(options, args) = parser.parse_args()
	
	if options.username == None or options.password == None or options.savefile == None:
		print "Need username file and password file"
		print "e.g. python Tomcat-Apache-Base64-Burp.py -u user.txt -p pass.txt -s chiper.txt"
		exit(0)

	with open(options.username,"r") as usernames: 
		for username in usernames:
			with open(options.password,"r") as passwords:
				for password in passwords:
					chiper = username.replace('\r\n','') + ":" + password.replace('\r\n','')
					print chiper
					chiper = base64.b64encode(chiper)
					print chiper
					savefile = open(options.savefile,"a+")
					savefile.write(chiper+"\n")
					savefile.close()



if __name__ == '__main__':
	main()